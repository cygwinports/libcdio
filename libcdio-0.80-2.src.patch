--- origsrc/libcdio-0.80/Makefile.am	2008-03-15 11:21:28.000000000 -0500
+++ src/libcdio-0.80/Makefile.am	2008-04-24 14:37:53.000000000 -0500
@@ -48,7 +48,7 @@
 	         libcdio++.pc  \
 	         libiso9660.pc \
 	         libiso9660++.pc \
-	         libudf.pc
+	         libudf.pc \
 		 $(paranoiapcs)
 
 
@@ -127,6 +127,4 @@
 ChangeLog:
 	( cd $(srcdir); $(CVS2CL) -W 450 --header cvs2cl_header --utc -w -I ChangeLog --usermap cvs2cl_usermap -P --stdout ) > ChangeLog
 
-ACLOCAL_AMFLAGS=-I .
-
 endif
--- origsrc/libcdio-0.80/include/cdio/paranoia.h	2007-09-28 07:09:38.000000000 -0500
+++ src/libcdio-0.80/include/cdio/paranoia.h	2008-04-24 14:37:53.015625000 -0500
@@ -176,6 +176,7 @@
 
 #ifndef DO_NOT_WANT_PARANOIA_COMPATIBILITY
 /** For compatibility with good ol' paranoia */
+#define cdrom_paranoia        cdrom_paranoia_t
 #define paranoia_init         cdio_paranoia_init
 #define paranoia_free         cdio_paranoia_free
 #define paranoia_modeset      cdio_paranoia_modeset
--- origsrc/libcdio-0.80/include/cdio/sector.h	2006-01-14 03:44:53.000000000 -0600
+++ src/libcdio-0.80/include/cdio/sector.h	2008-04-24 14:37:53.031250000 -0500
@@ -270,6 +270,11 @@
     }
 #endif
 
+#ifndef DO_NOT_WANT_PARANOIA_COMPATIBILITY
+/** For compatibility with good ol' paranoia */
+#define CD_FRAMESIZE_RAW        CDIO_CD_FRAMESIZE_RAW
+#endif /*DO_NOT_WANT_PARANOIA_COMPATIBILITY*/
+
 #endif /* _CDIO_SECTOR_H_ */
 
 
--- origsrc/libcdio-0.80/lib/cdda_interface/Makefile.am	2007-10-14 23:53:59.000000000 -0500
+++ src/libcdio-0.80/lib/cdda_interface/Makefile.am	2008-04-24 14:37:53.046875000 -0500
@@ -59,7 +59,7 @@
 lib_LTLIBRARIES = libcdio_cdda.la
 
 libcdio_cdda_la_SOURCES = $(libcdio_cdda_sources)
-libcdio_cdda_la_ldflags = -version-info $(libcdio_cdda_la_CURRENT):$(libcdio_cdda_la_REVISION):$(libcdio_cdda_la_AGE)
+libcdio_cdda_la_ldflags = -version-info $(libcdio_cdda_la_CURRENT):$(libcdio_cdda_la_REVISION):$(libcdio_cdda_la_AGE) -no-undefined
 
 INCLUDES = $(LIBCDIO_CFLAGS)
 
--- origsrc/libcdio-0.80/lib/cdio++/Makefile.am	2007-10-14 23:53:59.000000000 -0500
+++ src/libcdio-0.80/lib/cdio++/Makefile.am	2008-04-24 14:37:53.375000000 -0500
@@ -51,7 +51,8 @@
 libcdiopp_sources = cdio.cpp devices.cpp
 
 libcdio___la_SOURCES = $(libcdiopp_sources)
-libcdio___la_ldflags = -version-info $(libcdiopp_la_CURRENT):$(libcdiopp_la_REVISION):$(libcdiopp_la_AGE)
+libcdio___la_LDFLAGS = -version-info $(libcdiopp_la_CURRENT):$(libcdiopp_la_REVISION):$(libcdiopp_la_AGE) -no-undefined
+libcdio___la_LIBADD = $(top_builddir)/lib/driver/libcdio.la
 
 libiso9660pp_la_CURRENT = 0
 libiso9660pp_la_REVISION = 0
@@ -60,6 +61,7 @@
 libiso9660pp_sources = iso9660.cpp
 
 libiso9660___la_SOURCES = $(libiso9660pp_sources)
-libiso9660___la_ldflags = -version-info $(libiso9660pp_la_CURRENT):$(libiso9660pp_la_REVISION):$(libiso9660pp_la_AGE)
+libiso9660___la_LDFLAGS = -version-info $(libiso9660pp_la_CURRENT):$(libiso9660pp_la_REVISION):$(libiso9660pp_la_AGE) -no-undefined
+libiso9660___la_LIBADD = $(top_builddir)/lib/iso9660/libiso9660.la $(top_builddir)/lib/driver/libcdio.la
 
 INCLUDES = -I$(top_srcdir)/include/
--- origsrc/libcdio-0.80/lib/driver/Makefile.am	2007-10-14 23:53:59.000000000 -0500
+++ src/libcdio-0.80/lib/driver/Makefile.am	2008-04-24 14:37:53.390625000 -0500
@@ -98,10 +98,10 @@
 	util.c
 
 lib_LTLIBRARIES    = libcdio.la
-libcdio_la_LIBADD  = @LIBICONV@
+libcdio_la_LIBADD  = $(LTLIBICONV)
 
 libcdio_la_SOURCES = $(libcdio_sources)
-libcdio_la_ldflags = -version-info $(libcdio_la_CURRENT):$(libcdio_la_REVISION):$(libcdio_la_AGE)
+libcdio_la_ldflags = -version-info $(libcdio_la_CURRENT):$(libcdio_la_REVISION):$(libcdio_la_AGE) -no-undefined
 
 INCLUDES = $(LIBCDIO_CFLAGS)
 
--- origsrc/libcdio-0.80/lib/driver/device.c	2006-04-03 21:06:13.000000000 -0500
+++ src/libcdio-0.80/lib/driver/device.c	2008-04-24 14:37:53.390625000 -0500
@@ -68,9 +68,9 @@
 const driver_id_t cdio_os_driver = DRIVER_LINUX;
 #elif  HAVE_DARWIN_CDROM
 const driver_id_t cdio_os_driver = DRIVER_OSX;
-#elif  HAVE_DARWIN_SOLARIS
+#elif  HAVE_SOLARIS_CDROM
 const driver_id_t cdio_os_driver = DRIVER_SOLARIS;
-#elif  HAVE_DARWIN_WIN32
+#elif  HAVE_WIN32_CDROM
 const driver_id_t cdio_os_driver = DRIVER_WIN32;
 #else 
 const driver_id_t cdio_os_driver = DRIVER_UNKNOWN;
--- origsrc/libcdio-0.80/lib/iso9660/Makefile.am	2007-10-14 23:53:59.000000000 -0500
+++ src/libcdio-0.80/lib/iso9660/Makefile.am	2008-04-24 14:37:53.406250000 -0500
@@ -68,8 +68,8 @@
 	xa.c
 
 libiso9660_la_LIBADD = @LIBCDIO_LIBS@
-libiso9660_la_ldflags = -version-info $(libiso9660_la_CURRENT):$(libiso9660_la_REVISION):$(libiso9660_la_AGE)
-libiso9660_la_dependencies = libcdio.la
+libiso9660_la_ldflags = -version-info $(libiso9660_la_CURRENT):$(libiso9660_la_REVISION):$(libiso9660_la_AGE) -no-undefined
+libiso9660_la_dependencies = ../driver/libcdio.la
 
 INCLUDES = $(LIBCDIO_CFLAGS)
 
--- origsrc/libcdio-0.80/lib/paranoia/Makefile.am	2007-10-14 23:53:59.000000000 -0500
+++ src/libcdio-0.80/lib/paranoia/Makefile.am	2008-04-24 14:37:53.437500000 -0500
@@ -58,7 +58,7 @@
 lib_LTLIBRARIES = libcdio_paranoia.la
 
 libcdio_paranoia_la_SOURCES = $(libcdio_paranoia_sources)
-libcdio_paranoia_la_ldflags = -version-info $(libcdio_paranoia_la_CURRENT):$(libcdio_paranoia_la_REVISION):$(libcdio_paranoia_la_AGE)
+libcdio_paranoia_la_ldflags = -version-info $(libcdio_paranoia_la_CURRENT):$(libcdio_paranoia_la_REVISION):$(libcdio_paranoia_la_AGE) -no-undefined
 
 INCLUDES = $(LIBCDIO_CFLAGS)
 
--- origsrc/libcdio-0.80/lib/udf/Makefile.am	2007-10-14 23:40:43.000000000 -0500
+++ src/libcdio-0.80/lib/udf/Makefile.am	2008-04-24 14:37:53.453125000 -0500
@@ -36,6 +36,8 @@
 
 libudf_la_SOURCES = udf.c udf_file.c udf_fs.c udf_time.c filemode.c
 
+libudf_la_LDFLAGS = -version-info $(libudf_la_CURRENT):$(libudf_la_REVISION):$(libudf_la_AGE) -no-undefined
+
 libudf_la_LIBADD = @LIBCDIO_LIBS@
 
 INCLUDES = $(LIBCDIO_CFLAGS)
--- origsrc/libcdio-0.80/libcdio.pc.in	2006-08-20 15:09:23.000000000 -0500
+++ src/libcdio-0.80/libcdio.pc.in	2008-04-24 14:38:39.765625000 -0500
@@ -7,5 +7,5 @@
 Description: Portable CD-ROM I/O library
 Version: @PACKAGE_VERSION@
 #Requires: glib-2.0 
-Libs: -L${libdir} -lcdio @LIBS@ @LIBICONV@ @DARWIN_PKG_LIB_HACK@
+Libs: -L${libdir} -lcdio @LIBS@ @LTLIBICONV@ @DARWIN_PKG_LIB_HACK@
 Cflags: -I${includedir}
--- origsrc/libcdio-0.80/libiso9660++.pc.in	2006-03-06 16:21:42.000000000 -0600
+++ src/libcdio-0.80/libiso9660++.pc.in	2008-04-24 14:38:49.406250000 -0500
@@ -8,5 +8,5 @@
 Description: C++ OO ISO-9660 library of libcdio
 Version: @PACKAGE_VERSION@
 Requires: libcdio 
-Libs: -L${libdir} -liso9660++ -lcdio++ -liso9660 @LIBICONV@ -lcdio
+Libs: -L${libdir} -liso9660++ -lcdio++ -liso9660 @LTLIBICONV@ -lcdio
 Cflags: -I${includedir}
--- origsrc/libcdio-0.80/libiso9660.pc.in	2005-09-21 20:00:03.000000000 -0500
+++ src/libcdio-0.80/libiso9660.pc.in	2008-04-24 14:38:54.421875000 -0500
@@ -8,5 +8,5 @@
 Description: ISO-9660 library of libcdio
 Version: @PACKAGE_VERSION@
 Requires: libcdio 
-Libs: -L${libdir} -liso9660 @LIBICONV@ -lcdio
+Libs: -L${libdir} -liso9660 @LTLIBICONV@ -lcdio
 Cflags: -I${includedir}
--- origsrc/libcdio-0.80/src/Makefile.am	2008-03-15 11:21:28.000000000 -0500
+++ src/libcdio-0.80/src/Makefile.am	2008-04-24 14:37:53.468750000 -0500
@@ -46,48 +46,48 @@
 if BUILD_CDDA_PLAYER
 cdda_player_SOURCES = cdda-player.c cddb.c cddb.h $(GETOPT_C)
 cdda_player_LDADD   = $(LIBCDIO_LIBS) $(CDDB_LIBS) $(CDDA_PLAYER_LIBS)
-bin_cdda_player     = cdda-player
+bin_cdda_player     = cdda-player$(EXEEXT)
 endif
 
 if BUILD_CD_DRIVE
 cd_drive_SOURCES = cd-drive.c util.c util.h $(GETOPT_C)
-cd_drive_LDADD   =  $(LIBISO9660_LIBS) $(LIBCDIO_LIBS) $(LIBICONV)
-bin_cd_drive     = cd-drive
+cd_drive_LDADD   =  $(LIBISO9660_LIBS) $(LIBCDIO_LIBS) $(LTLIBICONV)
+bin_cd_drive     = cd-drive$(EXEEXT)
 endif
 
 if BUILD_CDINFO
 cd_info_SOURCES = cd-info.c cddb.c cddb.h util.c util.h $(GETOPT_C)
-cd_info_LDADD   =  $(LIBISO9660_LIBS) $(LIBCDIO_LIBS) $(CDDB_LIBS) $(VCDINFO_LIBS) $(LIBICONV)
-bin_cd_info     = cd-info 
+cd_info_LDADD   =  $(LIBISO9660_LIBS) $(LIBCDIO_LIBS) $(CDDB_LIBS) $(VCDINFO_LIBS) $(LTLIBICONV)
+bin_cd_info     = cd-info$(EXEEXT)
 endif
 
 if BUILD_CDINFO_LINUX
 cdinfo_linux_SOURCES = cdinfo-linux.c
 cdinfo_linux_LDADD   = $(LIBCDIO_LIBS)
-bin_cdinfo_linux     = cdinfo-linux
+bin_cdinfo_linux     = cdinfo-linux$(EXEEXT)
 endif
 
 if BUILD_CD_READ
 cd_read_SOURCES = cd-read.c util.c util.h $(GETOPT_C)
-cd_read_LDADD   = $(LIBISO9660_LIBS) $(LIBCDIO_LIBS) $(LIBICONV)
-bin_cd_read     = cd-read 
+cd_read_LDADD   = $(LIBISO9660_LIBS) $(LIBCDIO_LIBS) $(LTLIBICONV)
+bin_cd_read     = cd-read$(EXEEXT)
 endif
 
 if BUILD_ISO_INFO
 iso_info_SOURCES = iso-info.c util.c util.h $(GETOPT_C)
-iso_info_LDADD   = $(LIBISO9660_LIBS) $(LIBCDIO_LIBS) $(LIBICONV)
-bin_iso_info     = iso-info
+iso_info_LDADD   = $(LIBISO9660_LIBS) $(LIBCDIO_LIBS) $(LTLIBICONV)
+bin_iso_info     = iso-info$(EXEEXT)
 endif
 
 if BUILD_ISO_READ
 iso_read_SOURCES = iso-read.c util.c util.h $(GETOPT_C)
-iso_read_LDADD   = $(LIBISO9660_LIBS) $(LIBCDIO_LIBS) $(LIBICONV)
-bin_iso_read     = iso-read
+iso_read_LDADD   = $(LIBISO9660_LIBS) $(LIBCDIO_LIBS) $(LTLIBICONV)
+bin_iso_read     = iso-read$(EXEEXT)
 endif
 
 mmc_tool_SOURCES = mmc-tool.c util.c util.h $(GETOPT_C)
-mmc_tool_LDADD   = $(LIBISO9660_LIBS) $(LIBCDIO_LIBS) $(LIBICONV)
-bin_mmc_tool     = mmc-tool
+mmc_tool_LDADD   = $(LIBISO9660_LIBS) $(LIBCDIO_LIBS) $(LTLIBICONV)
+bin_mmc_tool     = mmc-tool$(EXEEXT)
 
 bin_PROGRAMS = $(bin_cd_drive) $(bin_cd_info)  $(bin_cdinfo_linux) $(bin_cd_read) $(bin_iso_info) $(bin_iso_read) $(bin_cdda_player) $(bin_mmc_tool)
 
